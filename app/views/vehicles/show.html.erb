<div class="card mt-3">

<div class="card-header">

  <h3>Car:
  <%= @vehicle.car_id %></h3>
</div>
<div class="card-body">
	<div class="row">
		<div class="col-sm-6">
<p>
  <strong>Car category:</strong>
  <%= @vehicle.vehicle_category.name%>
</p>

<p>
	<strong>Location:</strong>
	<%= @vehicle.location.locale%>
</p>

<p>
  <strong>Manufacturer:</strong>
  <%= @vehicle.manufacturer %>
</p>

<p>
  <strong>Status:</strong>
  <%= @vehicle.vehicle_status %>
</p>

<p>
  <strong>Vin number:</strong>
  <%= @vehicle.vin_number %>
</p>

<p>
  <strong>Registration date:</strong>
  <%= @vehicle.registration_date %>
</p>

<p>
  <strong>Plate number:</strong>
  <%= @vehicle.plate_number %>
</p>

<p>
  <strong>Work Orders: </strong>
  <% @vehicle.requests.order(created_at: :asc).limit(5).each do |request| %>
  		  		<%= link_to request.id, request, method: :get, class: "badge badge-dark" %>
				(<%= request.tracker.track%>)
  				<% end %>
</p>
<p>
  <strong>Current Mileage:</strong>
  <%= @vehicle.mileage %>
</p>
</div>
<div class="col-sm-6">
	
	<ul class="list-group">
		<strong style="text-color:red;">Mileage Until:</strong>
	<li class="list-group-item"><strong>A-Service:</strong>
	
	<% if @vehicle.a_service == nil %>
	No Data
	<% elsif @vehicle.a_service == true%>
			<strong style="color: red;">NEEDS SERVICE</strong>
			<% else %>
	<%= @a_service %>
	<% end%></li>
	<li class="list-group-item"><strong>Shock Service:</strong>
		<% if @vehicle.shock_service == nil %>
		No Data
		<% elsif @vehicle.shock_service == true %>
		<strong style="color:red;">NEEDS SERVICE</strong>
		<% else %>
	<%= @shock_service %>
		<% end %>
</li>
	<li class="list-group-item"><strong>Air Filter Service:</strong>
		<% if @vehicle.air_filter_service == nil %>
		No Data
		<% elsif @vehicle.air_filter_service == true%>
		<strong style="color: red;">NEEDS SERVICE</strong>
		<% else %>
	<%= @air_filter_service %></li>
	<% end %>
	
	<li class="list-group-item"><strong>Repairs:</strong>
		<% if @vehicle.repair_needed == nil %>
		No Data
		<% elsif @vehicle.repair_needed == true%>
		<span style="color: red;"><i class="fa fa-wrench" aria-hidden="true"> &nbsp Repairs-In-Progress</i></span>
		<% else %>
		No Repairs Needed
	</li>
	<% end %>
	<li class="list-group-item"><strong>Defects:</strong>
		<% if @vehicle.defect == nil %>
		No Data
		<% elsif @vehicle.defect == true %>
		Defect Reported <%  @vehicle.requests.where(program_id: @set_defects.id, tracker_id: @set_new.id).each do |request|%>
		<br class="d-flex justify-content-end">&nbsp;&nbsp;&nbsp;&nbsp;<strong>Description:</strong> <%= request.description %>
		<% end %>
		<% else %>
		No Defects Reported
		<% end %>
	</li>
		
</ul>
</p>
</div>
</div>
<div class="container d-flex justify-content-between align-items-center">
<span>
<%= link_to 'Edit', edit_vehicle_path(@vehicle), class: "btn btn-info" %> &nbsp
<%= link_to 'Back', vehicles_path, class: "btn btn-warning" %></span>
 	<strong>Download:
 	  <%= link_to "CSV", vehicle_path(@vehicle, params.merge(format: "csv").permit!), class: "btn btn-info" %> &nbsp
 	  <%= link_to "PDF", vehicle_path(@vehicle, params.merge(format: "pdf").permit!), class: "btn btn-info" %> </strong>
</div>
</div>
